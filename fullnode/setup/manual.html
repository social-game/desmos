<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Manual full node setup | Desmos Docs</title>
    <meta name="generator" content="VuePress 1.5.2">
    <link rel="icon" href="/assets/logo.png">
    <link rel="apple-touch-icon" sizes="57x57" href="/assets/pwa/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/assets/pwa/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/assets/pwa/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/assets/pwa/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/assets/pwa/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/assets/pwa/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/assets/pwa/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/assets/pwa/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/assets/pwa/apple-icon-180x180.png">
    <link rel="icon" type="image/png" sizes="192x192" href="/assets/pwa/android-icon-192x192.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/assets/pwa/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="96x96" href="/assets/pwa/favicon-96x96.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/assets/pwa/favicon-16x16.png">
    <link rel="manifest" href="/assets/pwa/manifest.json">
    <meta name="description" content="Documentation for the Desmos blockchain.">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/ms-icon-144x144.png">
    <meta name="theme-color" content="#ffffff">
    <meta property="og:title" content="Desmos Documentation">
    <meta property="og:url" content="https://docs.desmos.network/">
    <meta property="og:description" content="Learn how to integrate with the Desmos blockchain">
    <meta property="og:image" content="https://docs.desmos.network/assets/logo.png">
    <meta roperty="og:type" content="website">
    <meta property="og:locale" content="en_US">
    <link rel="preload" href="/assets/css/0.styles.05cb17d8.css" as="style"><link rel="preload" href="/assets/js/app.ab9ad52d.js" as="script"><link rel="preload" href="/assets/js/2.46f4932e.js" as="script"><link rel="preload" href="/assets/js/44.aa2a0f15.js" as="script"><link rel="prefetch" href="/assets/js/10.b784bdd2.js"><link rel="prefetch" href="/assets/js/11.bd232517.js"><link rel="prefetch" href="/assets/js/12.015221bc.js"><link rel="prefetch" href="/assets/js/13.17fd3adb.js"><link rel="prefetch" href="/assets/js/14.5e734305.js"><link rel="prefetch" href="/assets/js/15.ae940260.js"><link rel="prefetch" href="/assets/js/16.02ff44ca.js"><link rel="prefetch" href="/assets/js/17.3703efa8.js"><link rel="prefetch" href="/assets/js/18.f0103f3a.js"><link rel="prefetch" href="/assets/js/19.768a49dc.js"><link rel="prefetch" href="/assets/js/20.f5850209.js"><link rel="prefetch" href="/assets/js/21.03e01064.js"><link rel="prefetch" href="/assets/js/22.41690c30.js"><link rel="prefetch" href="/assets/js/23.6210e567.js"><link rel="prefetch" href="/assets/js/24.e10915f4.js"><link rel="prefetch" href="/assets/js/25.70a81341.js"><link rel="prefetch" href="/assets/js/26.5c4e26ae.js"><link rel="prefetch" href="/assets/js/27.405d0e23.js"><link rel="prefetch" href="/assets/js/28.3b4ec031.js"><link rel="prefetch" href="/assets/js/29.c690aefd.js"><link rel="prefetch" href="/assets/js/3.e7b44e8e.js"><link rel="prefetch" href="/assets/js/30.96f30c74.js"><link rel="prefetch" href="/assets/js/31.6ae3630a.js"><link rel="prefetch" href="/assets/js/32.aa0cacdc.js"><link rel="prefetch" href="/assets/js/33.90c4a7ad.js"><link rel="prefetch" href="/assets/js/34.fb88df22.js"><link rel="prefetch" href="/assets/js/35.538843d2.js"><link rel="prefetch" href="/assets/js/36.7ee946d5.js"><link rel="prefetch" href="/assets/js/37.592060a6.js"><link rel="prefetch" href="/assets/js/38.e31c520a.js"><link rel="prefetch" href="/assets/js/39.cdd4ce54.js"><link rel="prefetch" href="/assets/js/4.799be414.js"><link rel="prefetch" href="/assets/js/40.9538d315.js"><link rel="prefetch" href="/assets/js/41.ee1b649b.js"><link rel="prefetch" href="/assets/js/42.a7e340f8.js"><link rel="prefetch" href="/assets/js/43.3e867237.js"><link rel="prefetch" href="/assets/js/45.5247be7c.js"><link rel="prefetch" href="/assets/js/46.e75bb2bb.js"><link rel="prefetch" href="/assets/js/47.092321a3.js"><link rel="prefetch" href="/assets/js/48.2376a048.js"><link rel="prefetch" href="/assets/js/49.3a81c614.js"><link rel="prefetch" href="/assets/js/5.b160452e.js"><link rel="prefetch" href="/assets/js/50.ff1618dd.js"><link rel="prefetch" href="/assets/js/51.f921d105.js"><link rel="prefetch" href="/assets/js/52.62a5afbf.js"><link rel="prefetch" href="/assets/js/53.d5be6833.js"><link rel="prefetch" href="/assets/js/54.0e8db558.js"><link rel="prefetch" href="/assets/js/55.74ee4d1d.js"><link rel="prefetch" href="/assets/js/56.8852e9d0.js"><link rel="prefetch" href="/assets/js/57.4bda88c7.js"><link rel="prefetch" href="/assets/js/58.4c626526.js"><link rel="prefetch" href="/assets/js/59.c98c49f6.js"><link rel="prefetch" href="/assets/js/6.952e38e5.js"><link rel="prefetch" href="/assets/js/60.22d6a91d.js"><link rel="prefetch" href="/assets/js/61.fa35f2d1.js"><link rel="prefetch" href="/assets/js/62.2b8cffdb.js"><link rel="prefetch" href="/assets/js/63.bd689aee.js"><link rel="prefetch" href="/assets/js/64.6369cc85.js"><link rel="prefetch" href="/assets/js/65.29c865c4.js"><link rel="prefetch" href="/assets/js/66.5f56dc5f.js"><link rel="prefetch" href="/assets/js/67.8cc1ed67.js"><link rel="prefetch" href="/assets/js/68.922ff572.js"><link rel="prefetch" href="/assets/js/69.7867fc9a.js"><link rel="prefetch" href="/assets/js/7.fe2ae27a.js"><link rel="prefetch" href="/assets/js/70.0d5df2b2.js"><link rel="prefetch" href="/assets/js/71.3ac72539.js"><link rel="prefetch" href="/assets/js/72.e03114b8.js"><link rel="prefetch" href="/assets/js/73.6b6ecf9b.js"><link rel="prefetch" href="/assets/js/74.aa8c50bf.js"><link rel="prefetch" href="/assets/js/75.ba27386c.js"><link rel="prefetch" href="/assets/js/8.2062aacf.js"><link rel="prefetch" href="/assets/js/9.34874252.js">
    <link rel="stylesheet" href="/assets/css/0.styles.05cb17d8.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/assets/logo.png" alt="Desmos Docs" class="logo"> <span class="site-name can-hide">Desmos Docs</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="https://desmos.network" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Website
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <a href="https://github.com/desmos-labs/desmos" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="https://desmos.network" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Website
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <a href="https://github.com/desmos-labs/desmos" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Types</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Developers</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Running a Fullnode</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/fullnode/overview.html" class="sidebar-link">Overview</a></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading open"><span>Setup</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/fullnode/setup/overview.html" class="sidebar-link">Overview</a></li><li><a href="/fullnode/setup/automatic.html" class="sidebar-link">Automatic setup</a></li><li><a href="/fullnode/setup/manual.html" aria-current="page" class="active sidebar-link">Manual setup</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/fullnode/setup/manual.html#_1-build-the-software" class="sidebar-link">1. Build the software</a></li><li class="sidebar-sub-header"><a href="/fullnode/setup/manual.html#_2-initialize-the-desmos-working-directory" class="sidebar-link">2. Initialize the Desmos working directory</a></li><li class="sidebar-sub-header"><a href="/fullnode/setup/manual.html#_3-get-the-genesis-file" class="sidebar-link">3. Get the genesis file</a></li><li class="sidebar-sub-header"><a href="/fullnode/setup/manual.html#_4-connect-to-persistent-peer" class="sidebar-link">4. Connect to persistent peer</a></li><li class="sidebar-sub-header"><a href="/fullnode/setup/manual.html#optional-change-your-database-backend" class="sidebar-link">(Optional) Change your database backend</a></li><li class="sidebar-sub-header"><a href="/fullnode/setup/manual.html#_5-start-the-desmos-node" class="sidebar-link">5. Start the Desmos node</a></li><li class="sidebar-sub-header"><a href="/fullnode/setup/manual.html#optional-configure-the-service" class="sidebar-link">(Optional) Configure the service</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/fullnode/setup/manual.html#service-operations" class="sidebar-link">Service operations</a></li></ul></li></ul></li></ul></section></li><li><a href="/fullnode/rocksdb-installation.html" class="sidebar-link">Using RocksDB</a></li><li><a href="/fullnode/update.html" class="sidebar-link">Update</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Validators</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Testnets</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="manual-full-node-setup"><a href="#manual-full-node-setup" class="header-anchor">#</a> Manual full node setup</h1> <p>Following you will find the instructions on how to manually setup your Desmos full node.</p> <div class="custom-block warning"><p class="custom-block-title">Requirements</p> <p>Before starting, make sure you read the <a href="/fullnode/setup/overview.html">setup overview</a> to make sure your hardware meets the needed requirements.</p></div> <h2 id="_1-build-the-software"><a href="#_1-build-the-software" class="header-anchor">#</a> 1. Build the software</h2> <div class="custom-block tip"><p class="custom-block-title">Choose your DB backend</p> <p>Before installing the software, a consideration must be done.</p> <p>By default, Desmos uses <a href="https://github.com/google/leveldb" target="_blank" rel="noopener noreferrer">LevelDB<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> as its database backend engine. However, since version <code>v0.6.0</code> we've also added the possibility of optionally using <a href="https://github.com/facebook/rocksdb" target="_blank" rel="noopener noreferrer">Facebook's RocksDB<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>, which, although still being experimental, is know to be faster and could lead to lower syncing times. If you want to try out RocksDB (which we suggest you to do) you can take a look at our <a href="/fullnode/rocksdb-installation.html">RocksDB installation guide</a> before proceeding further.</p></div> <p>The following operations will all be done in the terminal environment under your home directory.</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># Clone the Desmos software</span>
<span class="token function">git</span> clone https://github.com/desmos-labs/desmos.git <span class="token operator">&amp;&amp;</span> <span class="token builtin class-name">cd</span> desmos

<span class="token comment"># If you do not have git installed, you can install it by running</span>
<span class="token comment"># sudo apt install git-all --yes</span>

<span class="token comment"># Checkout the correct commit</span>
<span class="token comment"># Please check on https://github.com/desmos-labs/morpheus to get the proper </span>
<span class="token comment"># the tag to use based on the current network version</span>
<span class="token function">git</span> checkout tags/<span class="token operator">&lt;</span>version<span class="token operator">&gt;</span>

<span class="token comment"># Build the software</span>
<span class="token comment"># If you want to use the default database backend run </span>
<span class="token function">make</span> <span class="token function">install</span>

<span class="token comment"># If you want to use RocksDB run instead</span>
<span class="token function">make</span> <span class="token function">install</span> <span class="token assign-left variable">DB_BACKEND</span><span class="token operator">=</span>rocksdb 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><p>If the software is built successfully, <code>desmosd</code> and <code>desmoscli</code> will be located at <code>/go/bin</code> of your home directory. If you have setup your environment variables correctly in the previous step, you should be able to access them correctly. Try to check the version of the software.</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>desmosd version --long
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="_2-initialize-the-desmos-working-directory"><a href="#_2-initialize-the-desmos-working-directory" class="header-anchor">#</a> 2. Initialize the Desmos working directory</h2> <p>Configuration files and chain data will be stored inside the <code>.desmosd</code> directory under your home directory by default. It will be created when you initialize the environment.</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># Initialize the working envinorment for Desmos</span>
desmosd init <span class="token operator">&lt;</span>your_moniker<span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>You can choose any moniker your like. It will be saved in the <code>config.toml</code> under the <code>.desmosd</code> working directory.</p> <h2 id="_3-get-the-genesis-file"><a href="#_3-get-the-genesis-file" class="header-anchor">#</a> 3. Get the genesis file</h2> <p>To connect to or start a new network, a genesis file is required. The file contains all the settings telling how the genesis block of the network should look like. To connect to the <code>morpheus</code> testnets, you will need the corresponding genesis file of each testnet. Visit the <a href="https://github.com/desmos-labs/morpheus" target="_blank" rel="noopener noreferrer">testnet repo<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> and download the correct genesis file by running the following command.</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># First, remove the newly created genesis file during the initialization</span>
<span class="token function">rm</span> <span class="token environment constant">$HOME</span>/.desmosd/config/genesis.json

<span class="token comment"># Download the existing genesis file for the testnet</span>
<span class="token comment"># Assuming you are getting the genesis file for the latest testnet</span>
<span class="token function">curl</span> https://raw.githubusercontent.com/desmos-labs/morpheus/master/genesis.json -o <span class="token environment constant">$HOME</span>/.desmosd/config/genesis.json
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h2 id="_4-connect-to-persistent-peer"><a href="#_4-connect-to-persistent-peer" class="header-anchor">#</a> 4. Connect to persistent peer</h2> <p>To properly run your node, you will need to connect it to other full nodes running with the same software and genesis file. This can be done configuring the <code>persisten_peers</code> value inside the <code>config.toml</code> file localed under the <code>.desmosd</code> working directory.</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># Open the config.toml file using text editor</span>
<span class="token function">nano</span> <span class="token environment constant">$HOME</span>/.desmosd/config/config.toml
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>Locate the <code>persistent_peers = &quot;&quot;</code> text at line 164. Update its value to a node address of a peer. The format of a node address must be <code>&lt;node_id&gt;@&lt;node_ip_address&gt;:&lt;port&gt;</code></p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># Example</span>
persistent_peers <span class="token operator">=</span> <span class="token string">&quot;7fed5624ca577eb0333d3631b5e4f16ba1736979@54.180.98.75:26656&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>Save the file and exit the text editor.</p> <h2 id="optional-change-your-database-backend"><a href="#optional-change-your-database-backend" class="header-anchor">#</a> (Optional) Change your database backend</h2> <p>If you would like to run your node using <a href="https://github.com/facebook/rocksdb" target="_blank" rel="noopener noreferrer">Facebook's RocksDB<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> as the database backend, and you have correctly built the Desmos binaries to work with it following the instructions at <a href="#1-build-the-software">point 1</a>, there is one more thing you need to do.</p> <p>In order to tell Tendermint to use RocksDB as its database backend engine, you are required to change the following like inside the <code>config.toml</code> file:</p> <div class="language-toml line-numbers-mode"><pre class="language-toml"><code><span class="token key property">db_backend</span><span class="token punctuation">=</span><span class="token string">&quot;goleveldb&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>To become</p> <div class="language-toml line-numbers-mode"><pre class="language-toml"><code><span class="token key property">db_backend</span><span class="token punctuation">=</span><span class="token string">&quot;rocksdb&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>Once you have done so, you can go ahead with <a href="#5-start-the-desmos-node">point 5</a>.</p> <h2 id="_5-start-the-desmos-node"><a href="#_5-start-the-desmos-node" class="header-anchor">#</a> 5. Start the Desmos node</h2> <p>Now you are good to run the full node. To do so, run:</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># Run Desmos full node</span>
desmosd start
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>The full node will connect to the peers and start syncing. You can check the status of the node by executing:</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># Check status of the node</span>
desmoscli status
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>You should see an output like the following one:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>{
  &quot;node_info&quot;: {
    &quot;protocol_version&quot;: {
      &quot;p2p&quot;: &quot;7&quot;,
      &quot;block&quot;: &quot;10&quot;,
      &quot;app&quot;: &quot;0&quot;
    },
    &quot;id&quot;: &quot;8307c16191e249d6d3871ce764262d40d9cf249f&quot;,
    &quot;listen_addr&quot;: &quot;tcp://0.0.0.0:26656&quot;,
    &quot;network&quot;: &quot;morpheus-1001&quot;,
    &quot;version&quot;: &quot;0.32.7&quot;,
    &quot;channels&quot;: &quot;4020212223303800&quot;,
    &quot;moniker&quot;: &quot;Morpheus&quot;,
    &quot;other&quot;: {
      &quot;tx_index&quot;: &quot;on&quot;,
      &quot;rpc_address&quot;: &quot;tcp://0.0.0.0:26657&quot;
    }
  },
  &quot;sync_info&quot;: {
    &quot;latest_block_hash&quot;: &quot;AAB066E5B020C325E5AE41CFACFB95DAC83B261D0C4A24439A66A2977A03B7EC&quot;,
    &quot;latest_app_hash&quot;: &quot;5B4CE89D3C1EFA1AE8E16710103EEAE1FDF9D13BE44F5847F5376810E8F39DAE&quot;,
    &quot;latest_block_height&quot;: &quot;480950&quot;,
    &quot;latest_block_time&quot;: &quot;2020-01-13T06:35:29.237599298Z&quot;,
    &quot;catching_up&quot;: false
  },
  &quot;validator_info&quot;: {
    &quot;address&quot;: &quot;25AD49347EC88C1922F18B317D12EA59DB0EC8D6&quot;,
    &quot;pub_key&quot;: {
      &quot;type&quot;: &quot;tendermint/PubKeyEd25519&quot;,
      &quot;value&quot;: &quot;WPZGfRMuyd8X4B4vAx79yfyqH+nmEboaML8YlJKT/uE=&quot;
    },
    &quot;voting_power&quot;: &quot;0&quot;
  }
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br></div></div><p>If you see that the <code>catching_up</code> value is <code>false</code> under the <code>sync_info</code>, it means that you are fully synced. If it is <code>true</code>, it means your node is still syncing.</p> <p>After your node is fully synced, you can consider running your full node as a <a href="/validators/setup.html">validator node</a>.</p> <h2 id="optional-configure-the-service"><a href="#optional-configure-the-service" class="header-anchor">#</a> (Optional) Configure the service</h2> <p>To allow your <code>desmosd</code> instance to run in the background as a service you need to execute the following command</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">tee</span> /etc/systemd/system/desmosd.service <span class="token operator">&gt;</span> /dev/null <span class="token operator">&lt;&lt;</span><span class="token string">EOF  
[Unit]
Description=Desmosd Full Node
After=network-online.target

[Service]
User=ubuntu
ExecStart=/home/ubuntu/go/bin/desmosd start
Restart=always
RestartSec=3
LimitNOFILE=4096 # To compensate the &quot;Too many open files&quot; issue.

[Install]
WantedBy=multi-user.target
EOF</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>If you are logged as a user which is not <code>ubuntu</code>, make sure to edit the <code>User</code> and <code>ExecStart</code> values accordingly</p></div> <p>Once you have successfully created the service, you need to first enable it. You can do so by running</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>systemctl <span class="token builtin class-name">enable</span> desmosd
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>After this, you can run it by executing</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>systemctl start desmosd
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="service-operations"><a href="#service-operations" class="header-anchor">#</a> Service operations</h3> <h4 id="check-the-service-status"><a href="#check-the-service-status" class="header-anchor">#</a> Check the service status</h4> <p>If you want to see if the service is running properly, you can execute</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>systemctl status desmosd
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>If everything is running smoothly you should see something like</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ systemctl status desmosd
● desmosd.service - Desmosd Node
   Loaded: loaded <span class="token punctuation">(</span>/etc/systemd/system/desmosd.service<span class="token punctuation">;</span> enabled<span class="token punctuation">;</span> vendor preset: 
   Active: active <span class="token punctuation">(</span>running<span class="token punctuation">)</span> since Fri <span class="token number">2020</span>-01-17 <span class="token number">10</span>:23:12 CET<span class="token punctuation">;</span> 2min 3s ago
 Main PID: <span class="token number">11318</span> <span class="token punctuation">(</span>desmosd<span class="token punctuation">)</span>
    Tasks: <span class="token number">10</span> <span class="token punctuation">(</span>limit: <span class="token number">4419</span><span class="token punctuation">)</span>
   CGroup: /system.slice/desmosd.service
           └─11318 /root/go/bin/desmosd start
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h4 id="check-the-node-status"><a href="#check-the-node-status" class="header-anchor">#</a> Check the node status</h4> <p>If you want to see the current status of the node, you can do so by running</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">tail</span> -100f /var/log/syslog
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>This should return something like</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>Jan 17 09:24:55 &lt;your-moniker&gt; desmosd[11318]: I[2020-01-17|10:24:55.212] Executed block                               module=state height=10183 validTxs=0 invalidTxs=0
Jan 17 09:24:55 &lt;your-moniker&gt; desmosd[11318]: I[2020-01-17|10:24:55.237] Committed state                              module=state height=10183 txs=0 appHash=0D8BEBCAC81A7B8DA1FBBF93FA6E921E7815AE3EBF53B78DB66CD8437DFD70C8
Jan 17 09:24:55 &lt;your-moniker&gt; desmosd[11318]: I[2020-01-17|10:24:55.252] Executed block                               module=state height=10184 validTxs=0 invalidTxs=0
Jan 17 09:24:55 &lt;your-moniker&gt; desmosd[11318]: I[2020-01-17|10:24:55.261] Committed state                              module=state height=10184 txs=0 appHash=459F68E6C5BF31EA5E58FB959829A587BB09B9F4DCA9C31CB754E5F26125FCD5
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h4 id="stopping-the-service"><a href="#stopping-the-service" class="header-anchor">#</a> Stopping the service</h4> <p>If you wish to stop the service from running, you can do so by running</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>systemctl stop desmosd
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>To check the successful stop, execute <code>systemctl status desmosd</code>. This should return</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ systemctl status desmosd
● desmosd.service - Desmosd Node
   Loaded: loaded <span class="token punctuation">(</span>/etc/systemd/system/desmosd.service<span class="token punctuation">;</span> enabled<span class="token punctuation">;</span> vendor preset: enabled<span class="token punctuation">)</span>
   Active: failed <span class="token punctuation">(</span>Result: exit-code<span class="token punctuation">)</span> since Fri <span class="token number">2020</span>-01-17 <span class="token number">10</span>:28:04 CET<span class="token punctuation">;</span> 3s ago
  Process: <span class="token number">11318</span> <span class="token assign-left variable">ExecStart</span><span class="token operator">=</span>/root/go/bin/desmosd start <span class="token punctuation">(</span>code<span class="token operator">=</span>exited, <span class="token assign-left variable">status</span><span class="token operator">=</span><span class="token number">143</span><span class="token punctuation">)</span>
 Main PID: <span class="token number">11318</span> <span class="token punctuation">(</span>code<span class="token operator">=</span>exited, <span class="token assign-left variable">status</span><span class="token operator">=</span><span class="token number">143</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/desmos-labs/desmos/edit/master/docs/fullnode/setup/manual.md" target="_blank" rel="noopener noreferrer">Edit this page on Github</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">10/5/2020, 7:16:05 AM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/fullnode/setup/automatic.html" class="prev">
        Automatic setup
      </a></span> <span class="next"><a href="/fullnode/rocksdb-installation.html">
        Using RocksDB
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.ab9ad52d.js" defer></script><script src="/assets/js/2.46f4932e.js" defer></script><script src="/assets/js/44.aa2a0f15.js" defer></script>
  </body>
</html>
